<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"
    />
    <!-- MDB -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.0.0/mdb.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <div class="row my-4">
        <div class="col-lg-4 offset-lg-4 col-sm-12">
          <h1 class="text-center mb-3" style="color: rebeccapurple">
            My Calculator
          </h1>
          <div class="card" style="background-color: lightgray" id="calculator">
            <div class="card-body">
              <div
                class="p-3 mb-3 text-white bg-dark rounded d-flex justify-content-end align-item-center"
              >
                {{ answer }}
              </div>
              <div class="row">
                <div class="col-6 form-group">
                  <input
                    type="number"
                    class="form-control"
                    v-model="userInput.firstNumber"
                    placeholder="Enter first number"
                  />
                  <small class="text-danger" v-if="validation.firstStatus"
                    >*Required first name</small
                  >
                </div>
                <div class="col-6 form-group">
                  <input
                    type="number"
                    class="form-control"
                    v-model="userInput.secondNumber"
                    placeholder="Enter second number"
                  />
                  <small class="text-danger" v-if="validation.secondStatus"
                    >*Required second name</small
                  >
                </div>
                <div class="row d-flex justify-content-around">
                  <div class="col-4 mt-3">
                    <select
                      class="form-select"
                      aria-label="Default select example"
                      v-model="userInput.operators"
                    >
                      <option value="">Choose Operators</option>
                      <option value="+">+</option>
                      <option value="-">-</option>
                      <option value="*">*</option>
                      <option value="/">/</option>
                    </select>
                    <small class="text-danger" v-if="validation.operatorStatus"
                      >*Required operator</small
                    >
                  </div>
                  <div class="col-3 mt-3 text-center">
                    <button
                      class="btn btn-warning"
                      @click="save()"
                      :disabled="saveStatus"
                    >
                      Save
                    </button>
                  </div>
                  <div class="col-3 mt-3 text-center">
                    <button class="btn btn-danger" @click="clr()">Clear</button>
                  </div>
                </div>
                <div class="mt-3">
                  <button
                    class="btn btn-primary form-control"
                    @click="calculate()"
                  >
                    Calculate
                  </button>
                </div>
              </div>
            </div>
            <div class="card-footer">
              <div class="d-flex justify-content-between">
                <div>
                  <h4>History..</h4>
                </div>
                <div>
                  <button class="btn btn-danger" @click="deleteHistory()">
                    Delete History
                  </button>
                </div>
              </div>
              <div class="text-muted" v-for="history in histories">
                {{ history }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script>
    let app = new Vue({
      el: "#calculator",
      data: {
        answer: 0,
        histories: [],
        saveStatus: true,
        userInput: {
          firstNumber: "",
          secondNumber: "",
          operators: "",
        },
        validation: {
          firstStatus: false,
          secondStatus: false,
          operatorStatus: false,
        },
      },
      methods: {
        calculate() {
          this.validationCheck();
          if (
            !this.validation.firstStatus &&
            !this.validation.secondStatus &&
            !this.validation.operatorStatus
          ) {
            let result = this.calculation();
            this.answer = `${this.userInput.firstNumber}
                         ${this.userInput.operators}
                         ${this.userInput.secondNumber}
                         =
                         ${result}`;
            this.saveStatus = false;
            this.clear();
          }
        },
        calculation() {
          let num1 = parseInt(this.userInput.firstNumber);
          let num2 = parseInt(this.userInput.secondNumber);
          switch (this.userInput.operators) {
            case "+":
              return num1 + num2;
              break;
            case "-":
              return num1 - num2;
              break;
            case "*":
              return num1 * num2;
              break;
            case "/":
              return num1 / num2;
              break;
            default:
              return "errors";
              break;
          }
        },
        validationCheck() {
          this.validation.firstStatus =
            this.userInput.firstNumber == "" ? true : false;
          this.validation.secondStatus =
            this.userInput.secondNumber == "" ? true : false;
          this.validation.operatorStatus =
            this.userInput.operators == "" ? true : false;
        },
        clear() {
          this.userInput.firstNumber = "";
          this.userInput.secondNumber = "";
          this.userInput.operators = "";
          this.validation.firstStatus = false;
          this.validation.secondStatus = false;
          this.validation.operatorStatus = false;
        },
        clr() {
          this.clear();
          this.answer = 0;
        },
        save() {
          this.histories.push(this.answer);
          this.answer = 0;
          this.saveStatus = true;
        },
        deleteHistory() {
          this.histories = [];
        },
      },
    });
  </script>
</html>
